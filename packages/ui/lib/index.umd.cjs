(function(S,n){typeof exports=="object"&&typeof module<"u"?n(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],n):(S=typeof globalThis<"u"?globalThis:S||self,n(S["@blog/ui"]={},S.vue))})(this,function(S,n){"use strict";function he(){}const x=Object.assign,W=typeof window<"u",L=e=>e!==null&&typeof e=="object",P=e=>e!=null,R=e=>typeof e=="function",ye=e=>L(e)&&R(e.then)&&R(e.catch),G=e=>typeof e=="number"||/^\d+(\.\d+)?$/.test(e),Ee=()=>W?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function q(e,t){const o=t.split(".");let a=e;return o.forEach(r=>{var c;a=L(a)&&(c=a[r])!=null?c:""}),a}function ve(e,t,o){return t.reduce((a,r)=>((!o||e[r]!==void 0)&&(a[r]=e[r]),a),{})}const j=null,y=[Number,String],I={type:Boolean,default:!0},g=e=>({type:String,default:e});var Y=typeof window<"u";function J(e){let t;n.onMounted(()=>{e(),n.nextTick(()=>{t=!0})}),n.onActivated(()=>{t&&e()})}function Q(e,t,o={}){if(!Y)return;const{target:a=window,passive:r=!1,capture:c=!1}=o;let l=!1,i;const d=u=>{if(l)return;const m=n.unref(u);m&&!i&&(m.addEventListener(e,t,{capture:c,passive:r}),i=!0)},s=u=>{if(l)return;const m=n.unref(u);m&&i&&(m.removeEventListener(e,t,c),i=!1)};n.onUnmounted(()=>s(a)),n.onDeactivated(()=>s(a)),J(()=>d(a));let f;return n.isRef(a)&&(f=n.watch(a,(u,m)=>{s(m),d(u)})),()=>{f==null||f(),s(a),l=!0}}var $,M;function be(){if(!$&&($=n.ref(0),M=n.ref(0),Y)){const e=()=>{$.value=window.innerWidth,M.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:$,height:M}}var pe=/scroll|auto|overlay/i,we=Y?window:void 0;function Ce(e){return e.tagName!=="HTML"&&e.tagName!=="BODY"&&e.nodeType===1}function Be(e,t=we){let o=e;for(;o&&o!==t&&Ce(o);){const{overflowY:a}=window.getComputedStyle(o);if(pe.test(a))return o;o=o.parentNode}return t}Ee();const Se=e=>e.stopPropagation();function U(e,t){(typeof e.cancelable!="boolean"||e.cancelable)&&e.preventDefault(),t&&Se(e)}be();function v(e){if(P(e))return G(e)?`${e}px`:String(e)}function xe(e){if(P(e)){if(Array.isArray(e))return{width:v(e[0]),height:v(e[1])};const t=v(e);return{width:t,height:t}}}function Pe(e){const t={};return e!==void 0&&(t.zIndex=+e),t}const Ie=/-(\w)/g,ee=e=>e.replace(Ie,(t,o)=>o.toUpperCase()),Oe=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,""),{hasOwnProperty:De}=Object.prototype;function Ne(e,t,o){const a=t[o];P(a)&&(!De.call(e,o)||!L(a)?e[o]=a:e[o]=te(Object(e[o]),a))}function te(e,t){return Object.keys(t).forEach(o=>{Ne(e,t,o)}),e}var _e={name:"姓名",tel:"电话",save:"保存",clear:"清空",cancel:"取消",confirm:"确认",delete:"删除",loading:"加载中...",noCoupon:"暂无优惠券",nameEmpty:"请填写姓名",addContact:"添加联系人",telInvalid:"请填写正确的电话",vanCalendar:{end:"结束",start:"开始",title:"日期选择",weekdays:["日","一","二","三","四","五","六"],monthTitle:(e,t)=>`${e}年${t}月`,rangePrompt:e=>`最多选择 ${e} 天`},vanCascader:{select:"请选择"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计:"},vanCoupon:{unlimited:"无门槛",discount:e=>`${e}折`,condition:e=>`满${e}元可用`},vanCouponCell:{title:"优惠券",count:e=>`${e}张可用`},vanCouponList:{exchange:"兑换",close:"不使用",enable:"可用",disabled:"不可用",placeholder:"输入优惠码"},vanAddressEdit:{area:"地区",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",addressDetail:"详细地址",defaultAddress:"设为默认收货地址"},vanAddressList:{add:"新增地址"}};const ne=n.ref("zh-CN"),oe=n.reactive({"zh-CN":_e});var $e={messages(){return oe[ne.value]},use(e,t){ne.value=e,this.add({[e]:t})},add(e={}){te(oe,e)}};function Te(e){const t=ee(e)+".";return(o,...a)=>{const r=$e.messages(),c=q(r,t+o)||q(r,o);return R(c)?c(...a):c}}function K(e,t){return t?typeof t=="string"?` ${e}--${t}`:Array.isArray(t)?t.reduce((o,a)=>o+K(e,a),""):Object.keys(t).reduce((o,a)=>o+(t[a]?K(e,a):""),""):""}function Ve(e){return(t,o)=>(t&&typeof t!="string"&&(o=t,t=""),t=t?`${e}__${t}`:e,`${t}${K(t,o)}`)}function C(e){const t=`van-${e}`;return[t,Ve(t),Te(t)]}const ke="van-hairline--surround",Ae="van-haptics-feedback",ae=5;function ze(e,{args:t=[],done:o,canceled:a,error:r}){if(e){const c=e.apply(null,t);ye(c)?c.then(l=>{l?o():a&&a()}).catch(r||he):c?o():a&&a()}else o()}function O(e){return e.install=t=>{const{name:o}=e;o&&(t.component(o,e),t.component(ee(`-${o}`),e))},e}const Fe=Symbol();function Le(e){const t=n.getCurrentInstance();t&&x(t.proxy,e)}const Re={to:[String,Object],url:String,replace:Boolean};function je({to:e,url:t,replace:o,$router:a}){e&&a?a[o?"replace":"push"](e):t&&(o?location.replace(t):location.href=t)}function Ye(){const e=n.getCurrentInstance().proxy;return()=>je(e)}const[Me,ce]=C("badge"),Ue={dot:Boolean,max:y,tag:g("div"),color:String,offset:Array,content:y,showZero:I,position:g("top-right")};var Ke=n.defineComponent({name:Me,props:Ue,setup(e,{slots:t}){const o=()=>{if(t.content)return!0;const{content:i,showZero:d}=e;return P(i)&&i!==""&&(d||i!==0&&i!=="0")},a=()=>{const{dot:i,max:d,content:s}=e;if(!i&&o())return t.content?t.content():P(d)&&G(s)&&+s>+d?`${d}+`:s},r=i=>i.startsWith("-")?i.replace("-",""):`-${i}`,c=n.computed(()=>{const i={background:e.color};if(e.offset){const[d,s]=e.offset,{position:f}=e,[u,m]=f.split("-");t.default?(typeof s=="number"?i[u]=v(u==="top"?s:-s):i[u]=u==="top"?v(s):r(s),typeof d=="number"?i[m]=v(m==="left"?d:-d):i[m]=m==="left"?v(d):r(d)):(i.marginTop=v(s),i.marginLeft=v(d))}return i}),l=()=>{if(o()||e.dot)return n.createVNode("div",{class:ce([e.position,{dot:e.dot,fixed:!!t.default}]),style:c.value},[a()])};return()=>{if(t.default){const{tag:i}=e;return n.createVNode(i,{class:ce("wrapper")},{default:()=>[t.default(),l()]})}return l()}}});const Ze=O(Ke);let re=2e3;const Xe=()=>++re,He=e=>{re=e},[ie,We]=C("config-provider"),le=Symbol(ie),Ge={tag:g("div"),theme:g("light"),zIndex:Number,themeVars:Object,themeVarsDark:Object,themeVarsLight:Object,themeVarsScope:g("local"),iconPrefix:String};function qe(e){return e.replace(/([a-zA-Z])(\d)/g,"$1-$2")}function Je(e){const t={};return Object.keys(e).forEach(o=>{const a=qe(Oe(o));t[`--van-${a}`]=e[o]}),t}function T(e={},t={}){Object.keys(e).forEach(o=>{e[o]!==t[o]&&document.documentElement.style.setProperty(o,e[o])}),Object.keys(t).forEach(o=>{e[o]||document.documentElement.style.removeProperty(o)})}n.defineComponent({name:ie,props:Ge,setup(e,{slots:t}){const o=n.computed(()=>Je(x({},e.themeVars,e.theme==="dark"?e.themeVarsDark:e.themeVarsLight)));if(W){const a=()=>{document.documentElement.classList.add(`van-theme-${e.theme}`)},r=(c=e.theme)=>{document.documentElement.classList.remove(`van-theme-${c}`)};n.watch(()=>e.theme,(c,l)=>{l&&r(l),a()},{immediate:!0}),n.onActivated(a),n.onDeactivated(r),n.onBeforeUnmount(r),n.watch(o,(c,l)=>{e.themeVarsScope==="global"&&T(c,l)}),n.watch(()=>e.themeVarsScope,(c,l)=>{l==="global"&&T({},o.value),c==="global"&&T(o.value,{})}),e.themeVarsScope==="global"&&T(o.value,{})}return n.provide(le,e),n.watchEffect(()=>{e.zIndex!==void 0&&He(e.zIndex)}),()=>n.createVNode(e.tag,{class:We(),style:e.themeVarsScope==="local"?o.value:void 0},{default:()=>{var a;return[(a=t.default)==null?void 0:a.call(t)]}})}});const[Qe,se]=C("icon"),et=e=>e==null?void 0:e.includes("/"),tt={dot:Boolean,tag:g("i"),name:String,size:y,badge:y,color:String,badgeProps:Object,classPrefix:String};var nt=n.defineComponent({name:Qe,props:tt,setup(e,{slots:t}){const o=n.inject(le,null),a=n.computed(()=>e.classPrefix||(o==null?void 0:o.iconPrefix)||se());return()=>{const{tag:r,dot:c,name:l,size:i,badge:d,color:s}=e,f=et(l);return n.createVNode(Ze,n.mergeProps({dot:c,tag:r,class:[a.value,f?"":`${a.value}-${l}`],style:{color:s,fontSize:v(i)},content:d},e.badgeProps),{default:()=>{var u;return[(u=t.default)==null?void 0:u.call(t),f&&n.createVNode("img",{class:se("image"),src:l},null)]}})}}});const Z=O(nt),[ot,N]=C("loading"),at=Array(12).fill(null).map((e,t)=>n.createVNode("i",{class:N("line",String(t+1))},null)),ct=n.createVNode("svg",{class:N("circular"),viewBox:"25 25 50 50"},[n.createVNode("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),rt={size:y,type:g("circular"),color:String,vertical:Boolean,textSize:y,textColor:String};var it=n.defineComponent({name:ot,props:rt,setup(e,{slots:t}){const o=n.computed(()=>x({color:e.color},xe(e.size))),a=()=>{const c=e.type==="spinner"?at:ct;return n.createVNode("span",{class:N("spinner",e.type),style:o.value},[t.icon?t.icon():c])},r=()=>{var c;if(t.default)return n.createVNode("span",{class:N("text"),style:{fontSize:v(e.textSize),color:(c=e.textColor)!=null?c:e.color}},[t.default()])};return()=>{const{type:c,vertical:l}=e;return n.createVNode("div",{class:N([c,{vertical:l}]),"aria-live":"polite","aria-busy":!0},[a(),r()])}}});const lt=O(it),[st,D]=C("button"),ut=x({},Re,{tag:g("button"),text:String,icon:String,type:g("default"),size:g("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:g("button"),loadingSize:y,loadingText:String,loadingType:String,iconPosition:g("left")});var dt=n.defineComponent({name:st,props:ut,emits:["click"],setup(e,{emit:t,slots:o}){const a=Ye(),r=()=>o.loading?o.loading():n.createVNode(lt,{size:e.loadingSize,type:e.loadingType,class:D("loading")},null),c=()=>{if(e.loading)return r();if(o.icon)return n.createVNode("div",{class:D("icon")},[o.icon()]);if(e.icon)return n.createVNode(Z,{name:e.icon,class:D("icon"),classPrefix:e.iconPrefix},null)},l=()=>{let s;if(e.loading?s=e.loadingText:s=o.default?o.default():e.text,s)return n.createVNode("span",{class:D("text")},[s])},i=()=>{const{color:s,plain:f}=e;if(s){const u={color:f?s:"white"};return f||(u.background=s),s.includes("gradient")?u.border=0:u.borderColor=s,u}},d=s=>{e.loading?U(s):e.disabled||(t("click",s),a())};return()=>{const{tag:s,type:f,size:u,block:m,round:E,plain:b,square:w,loading:p,disabled:V,hairline:k,nativeType:X,iconPosition:A}=e,z=[D([f,u,{plain:b,block:m,round:E,square:w,loading:p,disabled:V,hairline:k}]),{[ke]:k}];return n.createVNode(s,{type:X,class:z,style:i(),disabled:V,onClick:d},{default:()=>[n.createVNode("div",{class:D("content")},[A==="left"&&c(),l(),A==="right"&&c()])]})}}});const ft=O(dt),ue={show:Boolean,zIndex:y,overlay:I,duration:y,teleport:[String,Object],lockScroll:I,lazyRender:I,beforeClose:Function,overlayStyle:Object,overlayClass:j,transitionAppear:Boolean,closeOnClickOverlay:I};function mt(e,t){return e>t?"horizontal":t>e?"vertical":""}function gt(){const e=n.ref(0),t=n.ref(0),o=n.ref(0),a=n.ref(0),r=n.ref(0),c=n.ref(0),l=n.ref(""),i=n.ref(!0),d=()=>l.value==="vertical",s=()=>l.value==="horizontal",f=()=>{o.value=0,a.value=0,r.value=0,c.value=0,l.value="",i.value=!0};return{move:E=>{const b=E.touches[0];o.value=(b.clientX<0?0:b.clientX)-e.value,a.value=b.clientY-t.value,r.value=Math.abs(o.value),c.value=Math.abs(a.value);const w=10;(!l.value||r.value<w&&c.value<w)&&(l.value=mt(r.value,c.value)),i.value&&(r.value>ae||c.value>ae)&&(i.value=!1)},start:E=>{f(),e.value=E.touches[0].clientX,t.value=E.touches[0].clientY},reset:f,startX:e,startY:t,deltaX:o,deltaY:a,offsetX:r,offsetY:c,direction:l,isVertical:d,isHorizontal:s,isTap:i}}let _=0;const de="van-overflow-hidden";function ht(e,t){const o=gt(),a="01",r="10",c=f=>{o.move(f);const u=o.deltaY.value>0?r:a,m=Be(f.target,e.value),{scrollHeight:E,offsetHeight:b,scrollTop:w}=m;let p="11";w===0?p=b>=E?"00":"01":w+b>=E&&(p="10"),p!=="11"&&o.isVertical()&&!(parseInt(p,2)&parseInt(u,2))&&U(f,!0)},l=()=>{document.addEventListener("touchstart",o.start),document.addEventListener("touchmove",c,{passive:!1}),_||document.body.classList.add(de),_++},i=()=>{_&&(document.removeEventListener("touchstart",o.start),document.removeEventListener("touchmove",c),_--,_||document.body.classList.remove(de))},d=()=>t()&&l(),s=()=>t()&&i();J(d),n.onDeactivated(s),n.onBeforeUnmount(s),n.watch(t,f=>{f?l():i()})}function fe(e){const t=n.ref(!1);return n.watch(e,o=>{o&&(t.value=o)},{immediate:!0}),o=>()=>t.value?o():null}const me=()=>{var e;const{scopeId:t}=((e=n.getCurrentInstance())==null?void 0:e.vnode)||{};return t?{[t]:""}:null},[yt,Et]=C("overlay"),vt={show:Boolean,zIndex:y,duration:y,className:j,lockScroll:I,lazyRender:I,customStyle:Object};var bt=n.defineComponent({name:yt,props:vt,setup(e,{slots:t}){const o=n.ref(),a=fe(()=>e.show||!e.lazyRender),r=l=>{e.lockScroll&&U(l,!0)},c=a(()=>{var l;const i=x(Pe(e.zIndex),e.customStyle);return P(e.duration)&&(i.animationDuration=`${e.duration}s`),n.withDirectives(n.createVNode("div",{ref:o,style:i,class:[Et(),e.className]},[(l=t.default)==null?void 0:l.call(t)]),[[n.vShow,e.show]])});return Q("touchmove",r,{target:o}),()=>n.createVNode(n.Transition,{name:"van-fade",appear:!0},{default:c})}});const pt=O(bt),wt=x({},ue,{round:Boolean,position:g("center"),closeIcon:g("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:g("top-right"),safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[Ct,ge]=C("popup");var Bt=n.defineComponent({name:Ct,inheritAttrs:!1,props:wt,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(e,{emit:t,attrs:o,slots:a}){let r,c;const l=n.ref(),i=n.ref(),d=fe(()=>e.show||!e.lazyRender),s=n.computed(()=>{const h={zIndex:l.value};if(P(e.duration)){const B=e.position==="center"?"animationDuration":"transitionDuration";h[B]=`${e.duration}s`}return h}),f=()=>{r||(r=!0,l.value=e.zIndex!==void 0?+e.zIndex:Xe(),t("open"))},u=()=>{r&&ze(e.beforeClose,{done(){r=!1,t("close"),t("update:show",!1)}})},m=h=>{t("clickOverlay",h),e.closeOnClickOverlay&&u()},E=()=>{if(e.overlay)return n.createVNode(pt,n.mergeProps({show:e.show,class:e.overlayClass,zIndex:l.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0},me(),{onClick:m}),{default:a["overlay-content"]})},b=h=>{t("clickCloseIcon",h),u()},w=()=>{if(e.closeable)return n.createVNode(Z,{role:"button",tabindex:0,name:e.closeIcon,class:[ge("close-icon",e.closeIconPosition),Ae],classPrefix:e.iconPrefix,onClick:b},null)};let p;const V=()=>{p&&clearTimeout(p),p=setTimeout(()=>{t("opened")})},k=()=>t("closed"),X=h=>t("keydown",h),A=d(()=>{var h;const{round:B,position:F,safeAreaInsetTop:H,safeAreaInsetBottom:Tt}=e;return n.withDirectives(n.createVNode("div",n.mergeProps({ref:i,style:s.value,role:"dialog",tabindex:0,class:[ge({round:B,[F]:F}),{"van-safe-area-top":H,"van-safe-area-bottom":Tt}],onKeydown:X},o,me()),[(h=a.default)==null?void 0:h.call(a),w()]),[[n.vShow,e.show]])}),z=()=>{const{position:h,transition:B,transitionAppear:F}=e,H=h==="center"?"van-fade":`van-popup-slide-${h}`;return n.createVNode(n.Transition,{name:B||H,appear:F,onAfterEnter:V,onAfterLeave:k},{default:A})};return n.watch(()=>e.show,h=>{h&&!r&&(f(),o.tabindex===0&&n.nextTick(()=>{var B;(B=i.value)==null||B.focus()})),!h&&r&&(r=!1,t("close"))}),Le({popupRef:i}),ht(i,()=>e.show&&e.lockScroll),Q("popstate",()=>{e.closeOnPopstate&&(u(),c=!1)}),n.onMounted(()=>{e.show&&f()}),n.onActivated(()=>{c&&(t("update:show",!0),c=!1)}),n.onDeactivated(()=>{e.show&&e.teleport&&(u(),c=!0)}),n.provide(Fe,()=>e.show),()=>e.teleport?n.createVNode(n.Teleport,{to:e.teleport},{default:()=>[E(),z()]}):n.createVNode(n.Fragment,null,[E(),z()])}});const St=O(Bt),[xt,Pt]=C("notify"),It=["lockScroll","position","show","teleport","zIndex"],Ot=x({},ue,{type:g("danger"),color:String,message:y,position:g("top"),className:j,background:String,lockScroll:Boolean});var Dt=n.defineComponent({name:xt,props:Ot,emits:["update:show"],setup(e,{emit:t,slots:o}){const a=r=>t("update:show",r);return()=>n.createVNode(St,n.mergeProps({class:[Pt([e.type]),e.className],style:{color:e.color,background:e.background},overlay:!1,duration:.2,"onUpdate:show":a},ve(e,It)),{default:()=>[o.default?o.default():e.message]})}});const Nt=O(Dt),_t=n.createElementVNode("span",null,"撤销删除",-1),$t={__name:"del-button",setup(e){const t=n.ref(!1),o=()=>{t.value=!0},a=()=>{};return(r,c)=>{const l=ft,i=Z,d=Nt;return n.openBlock(),n.createElementBlock(n.Fragment,null,[n.createVNode(l,{type:"danger",onClick:o},{default:n.withCtx(()=>[n.renderSlot(r.$slots,"default",{},()=>[n.createTextVNode("删除")])]),_:3}),n.createVNode(d,{show:t.value,"onUpdate:show":c[0]||(c[0]=s=>t.value=s),type:"warning"},{default:n.withCtx(()=>[_t,n.createVNode(i,{name:"revoke",onClick:a})]),_:1},8,["show"])],64)}}};S.DelButton=$t,Object.defineProperty(S,Symbol.toStringTag,{value:"Module"})});
